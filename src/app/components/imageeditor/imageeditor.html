<div class="editor-container">
  <h3>Angular 20 Image Editor</h3>

  <div class="controls">
    <input type="file" accept="image/*" (change)="onFileSelected($event)" />
    <label>
      Color:
      <input type="color" [(ngModel)]="selectedColor" />
    </label>
    <select [(ngModel)]="selectedTool">
      <option value="rectangle">Rectangle</option>
      <option value="circle">Circle</option>
      <option value="line">Line</option>
      <option value="arrow">Arrow</option>
      <option value="hide">Hide (Black Box)</option>
    </select>
  </div>
  <p class="hint">ðŸ’¡ You can also press <b>Ctrl + V</b> to paste an image from clipboard!</p>

  <div class="buttons" *ngIf="imageLoaded">
    <button (click)="undo()" [disabled]="undoStack.length === 0">Undo</button>
    <button (click)="redo()" [disabled]="redoStack.length === 0">Redo</button>
    <button (click)="clear()" [disabled]="shapes.length === 0">Clear</button>
    <button (click)="saveImage()">Save</button>
  </div>

  <!-- Canvas -->
  <canvas
    #myCanvas
    width="800"
    height="500"
    style="border:1px solid black;"
    (mousedown)="onMouseDown($event)"
    (mousemove)="onMouseMove($event)"
    (mouseup)="onMouseUp()"
  ></canvas>
</div>
